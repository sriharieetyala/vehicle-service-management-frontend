<div class="page-container">
    <div class="container">
        <div class="page-header">
            <a routerLink="/admin" class="back-link"><i class="bi bi-arrow-left"></i> Back to Dashboard</a>
            <h1><i class="bi bi-car-front"></i> Vehicle History</h1>
            <p class="subtitle">All registered vehicles in the system</p>
        </div>

        <!-- Stats Row -->
        <div class="stats-row">
            <div class="stat-box">
                <span class="stat-value">{{ totalVehicles }}</span>
                <span class="stat-label">Total Vehicles</span>
            </div>
            @for (stat of getVehiclesByType(); track stat.type) {
            <div class="stat-box">
                <span class="stat-value">{{ stat.count }}</span>
                <span class="stat-label">{{ stat.type }}</span>
            </div>
            }
        </div>

        @if (isLoading) {
        <div class="loading">Loading vehicles...</div>
        } @else if (vehicles.length === 0) {
        <div class="empty-state">
            <i class="bi bi-car-front"></i>
            <p>No vehicles registered</p>
        </div>
        } @else {
        <table class="data-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Brand / Model</th>
                    <th>Year</th>
                    <th>Plate Number</th>
                    <th>Type</th>
                    <th>Fuel</th>
                    <th>Customer ID</th>
                </tr>
            </thead>
            <tbody>
                @for (v of vehicles; track v.id) {
                <tr>
                    <td>#{{ v.id }}</td>
                    <td><strong>{{ v.brand }} {{ v.model }}</strong></td>
                    <td>{{ v.year }}</td>
                    <td><code>{{ v.plateNumber }}</code></td>
                    <td>{{ v.vehicleType }}</td>
                    <td>{{ v.fuelType }}</td>
                    <td>#{{ v.customerId }}</td>
                </tr>
                }
            </tbody>
        </table>
        }
    </div>
</div>